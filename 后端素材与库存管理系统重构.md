# 后端素材与库存管理系统重构

## Core Features

- 素材管理与软删除

- 库存管理（价格、库存、上下架）

- 库存操作日志追溯

## Tech Stack

{
  "Backend": "NestJS (TypeScript) with TypeORM for database interaction and Swagger for API documentation."
}

## Plan

Note: 

- [ ] is holding
- [/] is doing
- [X] is done

---

[X] 更新数据库实体与关系：修改 `Material` 实体以支持软删除，并创建新的 `Inventory` 和 `InventoryLog` 实体及其数据库表。

[X] 重构素材管理模块 (`material`)：调整 Service 和 Controller，移除价格与库存相关逻辑，并全面实现软删除功能及其 API。

[X] 开发库存管理模块 (`inventory`)：创建新模块，实现库存列表查询、价格与库存更新、上下架状态切换等核心 API。

[X] 开发库存操作记录模块 (`inventory-log`)：创建新模块，实现记录库存变更日志的 Service 和查询日志列表的 API。

[X] 集成库存变更与日志记录：在库存管理模块的更新操作（如修改价格、库存）中，调用日志服务以自动创建并保存操作记录。
